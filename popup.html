<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SAF</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="header-left">
        <div class="theme-selector">
          <button id="themeToggle" class="icon-btn header-icon" title="Change theme">
            <span id="themeIcon">ğŸŒ™</span>
          </button>
          <div id="themeDropdown" class="theme-dropdown">
            <div class="theme-option" data-theme="dark">
              <span class="theme-icon">ğŸŒ™</span>
              <span class="theme-name">Dark</span>
              <div class="theme-preview dark"></div>
            </div>
            <div class="theme-option" data-theme="light">
              <span class="theme-icon">â˜€ï¸</span>
              <span class="theme-name">Light</span>
              <div class="theme-preview light"></div>
            </div>
            <div class="theme-option" data-theme="galaxy">
              <span class="theme-icon">ğŸŒŒ</span>
              <span class="theme-name">Galaxy</span>
              <div class="theme-preview galaxy"></div>
            </div>
            <div class="theme-option" data-theme="sky">
              <span class="theme-icon">â˜ï¸</span>
              <span class="theme-name">Sky</span>
              <div class="theme-preview sky"></div>
            </div>
            <div class="theme-option" data-theme="underground">
              <span class="theme-icon">â›ï¸</span>
              <span class="theme-name">Underground</span>
              <div class="theme-preview underground"></div>
            </div>
          </div>
        </div>
        <button id="langToggle" class="icon-btn header-icon" title="Switch language">
          <span id="langIcon">ğŸ‡ºğŸ‡¸</span>
        </button>
      </div>
      <div class="header-center">
        <div class="logo">ğŸ’³</div>
        <h2>SAF</h2>
        <div class="version">v1.5</div>
      </div>
      <div class="header-right"></div>
    </div>
    
    <div class="tabs">
      <button class="tab-btn active" data-tab="general">
        <span class="tab-icon">âš¡</span>
        <span>General</span>
      </button>
      <button class="tab-btn" data-tab="ipblocker">
        <span class="tab-icon">ğŸš«</span>
        <span>IP Blocker</span>
      </button>
      <button class="tab-btn" data-tab="settings">
        <span class="tab-icon">âš™ï¸</span>
        <span>Settings</span>
      </button>
    </div>
    
    <div class="content">
      <!-- General Tab -->
      <div id="general-tab" class="tab-content active">
        <div class="section">
          <div class="section-header">
            <span class="section-icon">ğŸ’³</span>
            <h3>Card Generator</h3>
          </div>
        
        <div class="input-group">
          <label for="binInput">BIN Template:</label>
          <div class="input-with-btn">
            <input type="text" id="binInput" placeholder="Enter BIN (e.g. 552461)" maxlength="19">
            <button id="addBinBtn" class="icon-btn" title="Save to history">
              <span>+</span>
            </button>
            <button id="settingsToggleBtn" class="icon-btn settings-btn" title="Settings">
              <span>âš™ï¸</span>
            </button>
          </div>
          
          <!-- Mini settings dropdown -->
          <div id="miniSettings" class="mini-settings">
            <!-- Card Settings Group -->
            <div class="mini-settings-group">
              <div class="mini-settings-group-title">Card Generation</div>
              <div class="mini-settings-item">
                <label class="mini-checkbox-label">
                  <input type="checkbox" id="useLuhnValidation" checked>
                  <span class="mini-checkbox-custom"></span>
                  <span class="mini-checkbox-text">Use Luhn Validation</span>
                </label>
              </div>
              <div class="mini-settings-item">
                <label class="mini-checkbox-label">
                  <input type="checkbox" id="instantFill">
                  <span class="mini-checkbox-custom"></span>
                  <span class="mini-checkbox-text">âš¡ Instant Fill (No Delays)</span>
                </label>
                <div class="mini-settings-hint">Fill fields instantly without typing delays</div>
              </div>
            </div>
            
            <div class="mini-settings-divider"></div>
            
            <!-- Address Settings Group -->
            <div class="mini-settings-group">
              <div class="mini-settings-group-title">Address Settings</div>
              <div class="mini-settings-item">
                <div class="mini-settings-label">
                  <span class="mini-settings-icon">ğŸ </span>
                  <span>Address Source</span>
                </div>
                <select id="addressSourceSelect" class="mini-select">
                  <option value="static">Static (Built-in)</option>
                  <option value="manual">Manual (Custom)</option>
                  <option value="auto">Auto (Random USA)</option>
                </select>
              </div>
              
              <div class="mini-settings-item" id="ipLocationContainer" style="display: none;">
                <label class="mini-checkbox-label">
                  <input type="checkbox" id="useIPLocation">
                  <span class="mini-checkbox-custom"></span>
                  <span class="mini-checkbox-text">
                    <span class="mini-checkbox-icon">ğŸ“</span>
                    Use IP-based Location
                  </span>
                </label>
                <div class="mini-settings-hint">Generate addresses close to your IP location</div>
              </div>
            </div>
            
            <div class="mini-settings-divider"></div>
            
            <!-- Name Settings Group -->
            <div class="mini-settings-group">
              <div class="mini-settings-group-title">Name Settings</div>
              <div class="mini-settings-item">
                <div class="mini-settings-label">
                  <span class="mini-settings-icon">ğŸ‘¤</span>
                  <span>Name Source</span>
                </div>
                <select id="nameSourceSelect" class="mini-select">
                  <option value="static">Static (Built-in)</option>
                  <option value="manual">Manual (Custom)</option>
                  <option value="auto">Auto (From Address)</option>
                </select>
                <div class="mini-settings-hint">Names are taken from addresses</div>
              </div>
            </div>
          </div>
          
          <small style="color: var(--text-muted); font-size: 10px; margin-top: 3px; display: block;">
            Auto-fills with 'x' to 16 digits â€¢ Max 19 digits for long cards
          </small>
        </div>
        
        <button id="generateCardsBtn" class="btn btn-primary">
          <span class="btn-icon">ğŸš€</span>
          <span>Fill Everything</span>
        </button>
        
        <div class="status-message" id="statusMessage"></div>
      </div>
      
      <div class="section">
        <div class="section-header">
          <span class="section-icon">ğŸ“œ</span>
          <h3>History</h3>
        </div>
        <div id="binHistoryList" class="history-list"></div>
      </div>
      </div>
      
      <!-- IP Blocker Tab -->
      <div id="ipblocker-tab" class="tab-content">
        <div class="section">
          <div class="section-header">
            <span class="section-icon">ğŸš«</span>
            <h3>IP Blocker - 3DS Challenge</h3>
          </div>
          
          <div class="ip-info-box">
            <div class="ip-info-item">
              <span class="ip-label">Current IP:</span>
              <span id="currentIP" class="ip-value">Loading...</span>
            </div>
            <div class="ip-info-item" id="countryInfoItem" style="display: none;">
              <span class="ip-label">Country:</span>
              <span id="currentCountry" class="ip-country">
                <span class="country-flag">ğŸŒ</span>
                <span id="countryName">Unknown</span>
              </span>
            </div>
            <div class="ip-info-item">
              <span class="ip-label">Status:</span>
              <span id="ipStatus" class="ip-status">Not tracked</span>
            </div>
          </div>
          
          <button id="refreshIPBtn" class="btn btn-primary">
            <span class="btn-icon">ğŸ”„</span>
            <span>Refresh</span>
          </button>
        </div>
        
        <div class="section">
          <div class="section-header">
            <span class="section-icon">ğŸ“œ</span>
            <h3>Blocked IPs <span id="blockedIPsCount" class="count-badge">0</span></h3>
          </div>
          <button id="clearAllIPsBtn" class="btn btn-danger" style="margin-bottom: 12px; display: none;">
            <span class="btn-icon">ğŸ—‘ï¸</span>
            <span data-i18n="ipBlocker.clearAllIPs">Clear All IPs</span>
          </button>
          <div id="blockedIPsList" class="list-container-compact"></div>
        </div>
      </div>
      
      <!-- Settings Tab -->
      <div id="settings-tab" class="tab-content">
        <div class="sub-tabs">
          <button class="sub-tab-btn active" data-subtab="stripe-settings">
            <span>ğŸ’³ Stripe</span>
          </button>
          <button class="sub-tab-btn" data-subtab="cursor-settings">
            <span>ğŸ¤– Cursor</span>
          </button>
        </div>
        
        <!-- Stripe Settings SubTab -->
        <div id="stripe-settings-subtab" class="sub-tab-content active">
          <div class="section">
            <div class="section-header">
              <span class="section-icon">ğŸ </span>
              <h3>Addresses</h3>
            </div>
            <div class="form-group-compact">
              <input type="text" id="nameInput" placeholder="Full Name" class="form-input">
              <input type="text" id="address1Input" placeholder="Address Line 1" class="form-input">
              <input type="text" id="address2Input" placeholder="Address Line 2 (optional)" class="form-input">
              <div class="input-row">
                <input type="text" id="cityInput" placeholder="City" class="form-input">
                <input type="text" id="stateInput" placeholder="State" class="form-input">
              </div>
              <input type="text" id="zipInput" placeholder="ZIP Code" class="form-input">
              <button id="addAddressBtn" class="btn btn-secondary btn-sm">
                <span class="btn-icon">+</span>
                <span>Add</span>
              </button>
            </div>
            
            <div class="list-container-compact">
              <div id="addressesList"></div>
            </div>
          </div>
          
          <div class="section">
            <div class="section-header">
              <span class="section-icon">ğŸ‘¤</span>
              <h3>Names</h3>
            </div>
            <div class="form-group-compact">
              <div class="input-row">
                <input type="text" id="firstNameInput" placeholder="First Name" class="form-input">
                <input type="text" id="lastNameInput" placeholder="Last Name" class="form-input">
              </div>
              <button id="addNameBtn" class="btn btn-secondary btn-sm">
                <span class="btn-icon">+</span>
                <span>Add</span>
              </button>
            </div>
            
            <div class="list-container-compact">
              <div id="namesList"></div>
            </div>
          </div>
        </div>
        
        <!-- Cursor Settings SubTab -->
        <div id="cursor-settings-subtab" class="sub-tab-content">
          <div class="coming-soon-container">
            <div class="coming-soon-icon">ğŸ¤–</div>
            <div class="coming-soon-title">Cursor AI Settings</div>
            <div class="coming-soon-subtitle" id="cursorSettingsStatus">In Development</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>
